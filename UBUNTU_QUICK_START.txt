================================================================================
       WEATHERALERT - UBUNTU SERVER DEPLOYMENT QUICK START
================================================================================

APPLICATION URL: http://119.93.148.180/weatherapp
SERVER OS:       Ubuntu 20.04/22.04 LTS
DEPLOYMENT:      Automated with scripts

================================================================================
                         DEPLOYMENT OPTIONS
================================================================================

OPTION 1: AUTOMATED (WINDOWS POWERSHELL) â­ RECOMMENDED
------------------------------------------------------------------------
1. Open PowerShell on your Windows machine:
   cd "C:\Users\JaOsn\Desktop\BCC PythonApps\weatherapp"

2. Run deployment script:
   Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass
   .\deploy_scripts\windows_deploy.ps1

3. Select Option 1 for first-time deployment

â±ï¸ Time: 10-20 minutes
âœ… Fully automated
âœ… No Linux knowledge required


OPTION 2: MANUAL (SSH TO UBUNTU SERVER)
------------------------------------------------------------------------
From Windows PowerShell:

1. Transfer deployment script:
   scp deploy_scripts/deploy_to_server.sh root@119.93.148.180:/tmp/

2. SSH to Ubuntu server:
   ssh root@119.93.148.180

3. Run deployment:
   chmod +x /tmp/deploy_to_server.sh
   /tmp/deploy_to_server.sh

â±ï¸ Time: 10-20 minutes
âœ… Full control over process
âœ… See detailed progress


================================================================================
                    WHAT GETS INSTALLED ON UBUNTU
================================================================================

System Packages:
  âœ“ Python 3.8+
  âœ“ Nginx web server
  âœ“ Redis message broker
  âœ“ Build tools & libraries
  âœ“ MySQL client libraries

Python Environment:
  âœ“ Virtual environment at /opt/django-apps/weatherapp/venv
  âœ“ Django 4.1.13
  âœ“ Gunicorn WSGI server
  âœ“ Celery task queue
  âœ“ All app dependencies

Services Created:
  âœ“ django-weatherapp.service   - Main application
  âœ“ celery-weatherapp.service   - Background tasks
  âœ“ celerybeat-weatherapp.service - Scheduled tasks
  âœ“ nginx                        - Web server
  âœ“ redis-server                 - Message broker

Monitoring:
  âœ“ Automated health checks (every 5 minutes)
  âœ“ Log rotation
  âœ“ Backup cron job (daily 2 AM)
  âœ“ System resource monitoring


================================================================================
                    UBUNTU SERVER ARCHITECTURE
================================================================================

Internet (Port 80)
        â†“
    [Nginx]  â† Reverse proxy, static files, security
        â†“
  [Gunicorn] â† WSGI server (Port 8001, internal)
        â†“
   [Django]  â† Your WeatherAlert application
     â†™   â†˜
[MySQL]  [Celery + Redis] â† Database & background tasks


================================================================================
                    UBUNTU SERVICE MANAGEMENT
================================================================================

Using Management Script (Easy):
--------------------------------
ssh root@119.93.148.180
weatherapp-manage.sh status      # Check all services
weatherapp-manage.sh restart     # Restart everything
weatherapp-manage.sh logs        # View logs
weatherapp-manage.sh backup      # Create backup
weatherapp-manage.sh update      # Update application

Using systemctl (Direct):
--------------------------------
systemctl status django-weatherapp    # Check Django service
systemctl restart django-weatherapp   # Restart Django
systemctl restart celery-weatherapp   # Restart Celery
systemctl restart nginx               # Restart Nginx

View Logs:
--------------------------------
tail -f /var/log/django-apps/weatherapp/error.log    # Django logs
tail -f /var/log/django-apps/weatherapp/celery.log   # Celery logs
journalctl -u django-weatherapp -f                   # System logs


================================================================================
                    DIRECTORY STRUCTURE ON UBUNTU
================================================================================

/opt/django-apps/weatherapp/
â”œâ”€â”€ weatheralert/           # Django project
â”œâ”€â”€ weatherapp/             # Main application
â”œâ”€â”€ venv/                   # Python virtual environment
â”œâ”€â”€ staticfiles/            # Collected static files
â”œâ”€â”€ media/                  # User uploads
â”œâ”€â”€ manage.py
â”œâ”€â”€ requirements.txt
â””â”€â”€ .env                    # Configuration

/var/log/django-apps/weatherapp/
â”œâ”€â”€ error.log               # Application errors
â”œâ”€â”€ access.log              # Access logs
â”œâ”€â”€ celery.log              # Background tasks
â””â”€â”€ monitor.log             # Health checks

/etc/nginx/sites-available/
â””â”€â”€ weatherapp              # Nginx configuration

/etc/systemd/system/
â”œâ”€â”€ django-weatherapp.service
â”œâ”€â”€ celery-weatherapp.service
â””â”€â”€ celerybeat-weatherapp.service


================================================================================
                    UPDATING ON UBUNTU SERVER
================================================================================

Method 1: From Windows (PowerShell)
------------------------------------
.\deploy_scripts\windows_deploy.ps1
Select Option 2 (Quick update)

â±ï¸ Time: 2-5 minutes

Method 2: Directly on Ubuntu
------------------------------------
ssh root@119.93.148.180
weatherapp-manage.sh update

â±ï¸ Time: 2-5 minutes


================================================================================
                    UBUNTU TROUBLESHOOTING
================================================================================

App not loading?
----------------
ssh root@119.93.148.180
weatherapp-manage.sh status       # Check services
weatherapp-manage.sh logs         # View errors
weatherapp-manage.sh restart      # Restart all

Static files missing?
----------------
ssh root@119.93.148.180
cd /opt/django-apps/weatherapp
source venv/bin/activate
python manage.py collectstatic --noinput
systemctl restart nginx

Service won't start?
----------------
journalctl -u django-weatherapp -n 50    # View error logs
systemctl status django-weatherapp       # Check status
chown -R django-weatherapp:django-weatherapp /opt/django-apps/weatherapp

Port 80 in use?
----------------
sudo netstat -tlnp | grep :80      # Check what's using it
systemctl stop apache2             # If Apache is running
systemctl start nginx              # Start Nginx


================================================================================
                    UBUNTU SECURITY CHECKLIST
================================================================================

âœ“ Firewall (UFW):
  ufw allow 22/tcp    # SSH
  ufw allow 80/tcp    # HTTP
  ufw allow 443/tcp   # HTTPS
  ufw enable

âœ“ Fail2Ban (Brute force protection):
  apt install fail2ban -y
  systemctl enable fail2ban

âœ“ Automatic Updates:
  apt install unattended-upgrades -y

âœ“ SSH Hardening:
  nano /etc/ssh/sshd_config
  # Disable root login after creating sudo user
  # Use SSH keys instead of passwords

âœ“ SSL/HTTPS (Optional):
  apt install certbot python3-certbot-nginx
  # Requires domain name


================================================================================
                    VERIFICATION ON UBUNTU
================================================================================

After deployment, verify everything works:

1. SSH to server:
   ssh root@119.93.148.180

2. Run verification:
   bash /tmp/verify_deployment.sh

3. Check results (20 automated tests):
   âœ“ Services running
   âœ“ Ports open
   âœ“ Database connected
   âœ“ Static files accessible
   âœ“ Application responding
   âœ“ Logs created
   âœ“ And more...

4. Access application:
   http://119.93.148.180/weatherapp


================================================================================
                    UBUNTU BACKUP & RECOVERY
================================================================================

Automatic Backups:
------------------
âœ“ Daily backups at 2 AM (via cron)
âœ“ Stored at: /opt/backups/weatherapp/
âœ“ Retention: 7 days (configurable)

Manual Backup:
------------------
ssh root@119.93.148.180
weatherapp-manage.sh backup

Restore from Backup:
------------------
ssh root@119.93.148.180
systemctl stop django-weatherapp celery-weatherapp celerybeat-weatherapp
cd /opt/django-apps
tar -xzf /opt/backups/weatherapp/backup_YYYYMMDD_HHMMSS.tar.gz
chown -R django-weatherapp:django-weatherapp weatherapp
systemctl start django-weatherapp celery-weatherapp celerybeat-weatherapp


================================================================================
                    FILES CREATED FOR UBUNTU
================================================================================

âœ… deploy_scripts/deploy_to_server.sh       - Full Ubuntu deployment
âœ… deploy_scripts/quick_deploy_to_server.sh - Quick updates
âœ… deploy_scripts/verify_deployment.sh      - Post-deployment tests
âœ… deploy_scripts/windows_deploy.ps1        - Windows helper script
âœ… deploy_scripts/windows_deploy.bat        - Windows batch file
âœ… deploy_scripts/UBUNTU_DEPLOYMENT.md      - Complete Ubuntu guide
âœ… weatheralert/settings_production.py      - Production settings
âœ… requirements_production.txt              - Production dependencies
âœ… DEPLOYMENT_INSTRUCTIONS.md               - General guide
âœ… README_QUICK_DEPLOY.md                   - Quick reference


================================================================================
                    IMPORTANT UBUNTU COMMANDS
================================================================================

Service Status:
---------------
systemctl status django-weatherapp
systemctl status celery-weatherapp
systemctl status nginx
systemctl status redis-server

Start Services:
---------------
systemctl start django-weatherapp
systemctl start celery-weatherapp
systemctl start nginx

Stop Services:
---------------
systemctl stop django-weatherapp
systemctl stop celery-weatherapp

Restart Services:
---------------
systemctl restart django-weatherapp
systemctl restart nginx

Enable Auto-start:
---------------
systemctl enable django-weatherapp
systemctl enable celery-weatherapp
systemctl enable nginx

View Logs:
---------------
tail -f /var/log/django-apps/weatherapp/error.log
journalctl -u django-weatherapp -f
journalctl -u django-weatherapp -n 100

System Info:
---------------
lsb_release -a        # Ubuntu version
free -h               # Memory
df -h                 # Disk space
htop                  # Resource monitor
uname -r              # Kernel version


================================================================================
                    UBUNTU PERFORMANCE TUNING
================================================================================

Gunicorn Workers:
-----------------
# Calculate: (CPU cores Ã— 2) + 1
nproc  # Check CPU cores
nano /etc/systemd/system/django-weatherapp.service
# Edit --workers value
systemctl daemon-reload
systemctl restart django-weatherapp

Nginx Optimization:
-----------------
nano /etc/nginx/nginx.conf
# Adjust worker_processes and worker_connections
nginx -t
systemctl reload nginx

Redis Memory:
-----------------
nano /etc/redis/redis.conf
# Set maxmemory and maxmemory-policy
systemctl restart redis-server


================================================================================
                    POST-DEPLOYMENT STEPS
================================================================================

1. âœ… Deploy application (follow options above)

2. âœ… Access application:
   http://119.93.148.180/weatherapp

3. â¬œ Create admin user:
   ssh root@119.93.148.180
   cd /opt/django-apps/weatherapp
   source venv/bin/activate
   python manage.py createsuperuser

4. â¬œ Access admin panel:
   http://119.93.148.180/weatherapp/admin

5. â¬œ Configure firewall (see security checklist)

6. â¬œ Setup SSL (optional, requires domain)

7. â¬œ Test backups

8. â¬œ Monitor logs daily


================================================================================
                    SUPPORT & DOCUMENTATION
================================================================================

Detailed Guides:
----------------
â€¢ deploy_scripts/UBUNTU_DEPLOYMENT.md      - Complete Ubuntu guide
â€¢ DEPLOYMENT_INSTRUCTIONS.md               - Step-by-step guide
â€¢ deploy_scripts/README_SERVER_DEPLOYMENT.md - Server operations
â€¢ deploy_scripts/DEPLOYMENT_SUMMARY.md     - Technical reference

Quick Start:
----------------
â€¢ README_QUICK_DEPLOY.md                   - This file
â€¢ UBUNTU_QUICK_START.txt                   - Quick reference


================================================================================
                    READY TO DEPLOY?
================================================================================

EASIEST WAY (Windows PowerShell):
----------------------------------
PS> .\deploy_scripts\windows_deploy.ps1

DIRECT UBUNTU (SSH):
----------------------------------
$ ssh root@119.93.148.180
$ chmod +x /tmp/deploy_to_server.sh
$ /tmp/deploy_to_server.sh

YOUR APP WILL BE AT:
----------------------------------
http://119.93.148.180/weatherapp

GOOD LUCK! ðŸš€


================================================================================
                    DEPLOYMENT SUMMARY
================================================================================

âœ… All scripts optimized for Ubuntu Linux
âœ… Automated installation of all dependencies
âœ… Systemd services for automatic startup
âœ… Nginx configured for /weatherapp subpath
âœ… Redis message broker setup
âœ… Automated monitoring and backups
âœ… Security best practices included
âœ… Easy management with weatherapp-manage.sh
âœ… Complete documentation provided
âœ… Verification tests included

Everything is ready for your Ubuntu server deployment!

================================================================================

